<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>LAB5_2021141059</title>
    <link rel="stylesheet" type="text/css" href="./main.css">
    <script>
        let counter = 1;
        document.addEventListener('DOMContentLoaded', load);
        window.onscroll = () => {
            if(window.innerHeight + window.scrollY >= document.body.offsetHeight){
                load();
            }
        }

        function load(){
            const start = counter;
            const end = start + 1;
            counter = end + 1;
            fetch('product.json')
            .then(response => response.json())
            .then(posts => {
                posts.forEach(add_post);
            })
        }

        function add_post(data){
            const post =document.createElement('div');
            post.className='item';
            const item=document.createElement('img');
            item.setAttribute("src",data.image);
            post.appendChild(item);
            document.getElementsByClassName('index_salemain')[0].append(post);
        }
    </script>
</head>

<body>
    <div class="index_wrap">
        <header>
            <h1>안녕하세요 둥지입니다!</h1>
        </header>
        <nav>
            <div><a href="login.html">로그인</a></div>
            <div><a href="signup.html">회원 가입</a></div>
        </nav>
        <div class="index_salebox">
            <div class="choices">
                <form action="">
                    <label>Choose a category :</label>
                    <input type="text" id="category">
                    <label>Enter Search Term :</label>
                    <input type="text" id="query">
                    <button>Filter Results</button>
                </form>
            </div>
            <div class="index_shoppingcontents">
                <h2>sale</h2>
                <div class="index_salemain">
                </div>
            </div>
        </div>
    </div>
</body>

</html>